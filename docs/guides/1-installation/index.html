<!DOCTYPE html><html lang="en"><head><link rel="preload" href="/_next/dfcd33b6-fa72-4f4e-9b55-5818412d8665/page/guides/index.js" as="script"/><link rel="preload" href="/_next/dfcd33b6-fa72-4f4e-9b55-5818412d8665/page/_error/index.js" as="script"/><link rel="preload" href="/_next/f8395018b35dda4ef53e67b05c700127/app.js" as="script"/><meta charSet="utf-8" class="next-head"/><title class="next-head">NextEPC | Guides | Installation</title><link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/atom-one-light.min.css" class="next-head"/><title>NextEPC</title><style>html,body{margin:0;font-family:-apple-system,BlinkMacSystemFont,"Helvetica Neue","Lucida Grande",sans-serif;font-weight:100;}a{color:#666;font-weight:200;text-decoration-color:#aaa;}.css-1a7qg5{min-height:60px;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;padding-right:30px;-webkit-box-pack:end;-webkit-justify-content:flex-end;-ms-flex-pack:end;justify-content:flex-end;-webkit-align-items:stretch;-webkit-box-align:stretch;-ms-flex-align:stretch;align-items:stretch;box-sizing:border-box;}.css-1a7qg5 > a{padding:0 15px;color:#999;text-decoration:none;}.css-1a7qg5 > *{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;}.css-nu6evi{text-transform:uppercase;font-size:.8em;-webkit-letter-spacing:.2em;-moz-letter-spacing:.2em;-ms-letter-spacing:.2em;letter-spacing:.2em;}.css-nu6evi.active{color:#f63;border-bottom:3px solid #f63;border-top:3px solid transparent;}.css-nu6evi:hover{color:#f63;}.css-1774q3n:hover svg{-webkit-fill:#212121;fill:#212121;}.css-8gkpgi{position:relative;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;background:#272121;height:120px;padding-top:20px;}.css-8gkpgi > *{padding-left:20px;}.css-17a3lhg{color:#f63;font-size:1.8em;}.css-rr8qii{font-size:.8em;color:#564949;padding-bottom:20px;}.css-1kehcpu{background-color:#131010;padding:10px 0;-webkit-align-self:stretch;-ms-flex-item-align:stretch;align-self:stretch;text-align:center;font-size:.75em;}.css-1kehcpu span{font-weight:600;color:#f63;}.css-1kehcpu,.css-1kehcpu a,.css-1kehcpu a:visited,.css-1kehcpu a:hover{color:#564949;text-decoration:none;}html,body{margin:0;font-family:-apple-system,BlinkMacSystemFont,"Helvetica Neue","Lucida Grande",sans-serif;font-weight:100;}a{color:#666;font-weight:200;text-decoration-color:#ddd;}.css-12vtgqa{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;color:#666;}.css-pet3mp{font-size:1.4em;padding-left:20px;margin-right:auto;color:#212121;font-weight:400;}.css-nudg5n{font-weight:100;}.css-4dv31v{-webkit-flex:1;-ms-flex:1;flex:1;border-right:1px solid #eee;}.css-13a9kig{padding:10px 20px;text-decoration:none;color:#999;border-left:5px solid transparent;-webkit-flex:1;-ms-flex:1;flex:1;}.css-13a9kig.active,.css-13a9kig.active:hover{color:#212121;background-color:#e4e4e4;border-left:5px solid #f63;}.css-13a9kig:hover{color:#212121;background-color:#f4f4f4;border-left:5px solid #ccc;}.css-1vfmixc{margin:50px 0;font-size:1.2em;padding:5px 20px;background:#f2f2f2;}.css-1vfmixc .hljs{background:#f2f2f2;}.css-uhl5wg{background:#f9f9f9;min-height:100vh;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:row;-ms-flex-direction:row;flex-direction:row;}.css-uhl5wg p + h2{margin-top:40px;}.css-1gxokr3{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;-webkit-align-content:center;-ms-flex-line-pack:center;align-content:center;-webkit-align-items:stretch;-webkit-box-align:stretch;-ms-flex-align:stretch;align-items:stretch;}.css-1poywp1{position:relative;-webkit-flex:4;-ms-flex:4;flex:4;width:1px;padding:60px 0 0 60px;}.css-2qz4zg{position:absolute;top:20px;right:20px;padding:10px;border:1px solid #ddd;text-decoration:none;background:#f2f2f2;}.css-2qz4zg:hover{background:#fff;}.css-rsgsev{font-size:.8em;font-weight:100;color:#666;text-transform:uppercase;}.css-1wcxrv4{font-size:4em;font-weight:100;margin-top:-15px;margin-bottom:130px;padding-bottom:15px;border-bottom:3px solid #f63;}.css-1pb9ti4{font-size:1.3em;font-weight:300;color:#444;margin-top:40px;-webkit-letter-spacing:-0.05px;-moz-letter-spacing:-0.05px;-ms-letter-spacing:-0.05px;letter-spacing:-0.05px;line-height:1.5em;max-width:750px;}.css-1pb9ti4 code{font-size:1em;display:inline-block;padding:0 5px;background-color:#eee;vertical-align:bottom;}.css-1pb9ti4 strong,.css-1pb9ti4 b{font-weight:600;}.css-2v80ry{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:row;-ms-flex-direction:row;flex-direction:row;-webkit-box-pack:justify;-webkit-justify-content:space-between;-ms-flex-pack:justify;justify-content:space-between;-webkit-align-items:stretch;-webkit-box-align:stretch;-ms-flex-align:stretch;align-items:stretch;background:#eee;border-top:2px solid #e0e0e0;margin-left:-60px;padding:50px 0;}.css-2v80ry a{text-decoration:none;color:#f63;font-size:1.1em;}.css-2v80ry .article-title{font-size:1.5em;font-weight:300;}.css-2v80ry .nav-title{font-size:.7em;text-transform:uppercase;-webkit-letter-spacing:.2em;-moz-letter-spacing:.2em;-ms-letter-spacing:.2em;letter-spacing:.2em;}.css-osn4vg{padding-left:30px;}.css-o2qijk{padding-right:30px;text-align:right;}</style><link rel="icon" href="/static/favicon.ico"/></head><body><div><div id="__next"><div data-reactroot=""><main class="css-12vtgqa"><nav class="css-1a7qg5"><div class="css-pet3mp">NextEPC<span class="css-nudg5n"><!-- -->/<!-- -->guides</span></div><a href="/" class="css-nu6evi">Home</a><a href="/guides" class="active css-nu6evi">Guides</a><a href="/docs" class="css-nu6evi">Docs</a><a href="https://github.com/acetcom/nextepc" class="css-1774q3n"><svg fill="#c0c0c0" width="25" viewBox="0 0 33 32" version="1.1" xmlns="http://www.w3.org/2000/svg"><path d="M16.3,0 C7.3,0 -3.55271368e-15,7.3 -3.55271368e-15,16.3 C-3.55271368e-15,23.5 4.7,29.6 11.1,31.8 C11.9,31.9 12.2,31.4 12.2,31 L12.2,28.2 C7.7,29.2 6.7,26 6.7,26 C6,24.2 5,23.7 5,23.7 C3.5,22.7 5.1,22.7 5.1,22.7 C6.7,22.8 7.6,24.4 7.6,24.4 C9.1,26.9 11.4,26.2 12.3,25.8 C12.4,24.7 12.9,24 13.3,23.6 C9.7,23.2 5.9,21.8 5.9,15.5 C5.9,13.7 6.5,12.3 7.6,11.1 C7.4,10.7 6.9,9 7.8,6.8 C7.8,6.8 9.2,6.4 12.3,8.5 C13.6,8.1 15,8 16.4,8 C17.8,8 19.2,8.2 20.5,8.5 C23.6,6.4 25,6.8 25,6.8 C25.9,9 25.3,10.7 25.2,11.1 C26.2,12.2 26.9,13.7 26.9,15.5 C26.9,21.8 23.1,23.1 19.5,23.5 C20.1,24 20.6,25 20.6,26.5 L20.6,31 C20.6,31.4 20.9,31.9 21.7,31.8 C28.2,29.6 32.8,23.5 32.8,16.3 C32.6,7.3 25.3,0 16.3,0 L16.3,0 Z" id="Shape"></path></svg></a></nav><section class="css-uhl5wg"><side class="css-4dv31v"><nav class="css-1gxokr3"><a class="active css-13a9kig" href="/guides/1-installation">Installation</a><a class="css-13a9kig" href="/guides/2-build">Build on Ubuntu</a><a class="css-13a9kig" href="/guides/3-configuration">Configuration</a></nav></side><article class="css-1poywp1"><a target="_blank" href="https://github.com/acetcom/nextepc-www/tree/master/posts/guides/1-installation.md" class="css-2qz4zg" style="font-size:.9em">Edit this on<svg fill="#212121" width="20" style="vertical-align:bottom;padding-left:5px" viewBox="0 0 33 32" version="1.1" xmlns="http://www.w3.org/2000/svg"><path d="M16.3,0 C7.3,0 -3.55271368e-15,7.3 -3.55271368e-15,16.3 C-3.55271368e-15,23.5 4.7,29.6 11.1,31.8 C11.9,31.9 12.2,31.4 12.2,31 L12.2,28.2 C7.7,29.2 6.7,26 6.7,26 C6,24.2 5,23.7 5,23.7 C3.5,22.7 5.1,22.7 5.1,22.7 C6.7,22.8 7.6,24.4 7.6,24.4 C9.1,26.9 11.4,26.2 12.3,25.8 C12.4,24.7 12.9,24 13.3,23.6 C9.7,23.2 5.9,21.8 5.9,15.5 C5.9,13.7 6.5,12.3 7.6,11.1 C7.4,10.7 6.9,9 7.8,6.8 C7.8,6.8 9.2,6.4 12.3,8.5 C13.6,8.1 15,8 16.4,8 C17.8,8 19.2,8.2 20.5,8.5 C23.6,6.4 25,6.8 25,6.8 C25.9,9 25.3,10.7 25.2,11.1 C26.2,12.2 26.9,13.7 26.9,15.5 C26.9,21.8 23.1,23.1 19.5,23.5 C20.1,24 20.6,25 20.6,26.5 L20.6,31 C20.6,31.4 20.9,31.9 21.7,31.8 C28.2,29.6 32.8,23.5 32.8,16.3 C32.6,7.3 25.3,0 16.3,0 L16.3,0 Z" id="Shape"></path></svg></a><h2 class="css-rsgsev">guides</h2><h1 class="css-1wcxrv4">Installation</h1><div><p class="css-1pb9ti4">This post will guide you on how to get installed <strong><!-- -->NextEPC</strong> with your environment. To date, NextEPC has been tested on GNU/Linux distributions(Debian, Ubuntu, CentOS, Fedora), FreeBSD, and Mac OS X.</p>
<h2><!-- -->Ubuntu</h2>
<p class="css-1pb9ti4"><!-- -->To get the latest Ubuntu version, please visit the official Ubuntu website: <a href="https://www.ubuntu.com/download/"><!-- -->https://www.ubuntu.com/download/</a>. </p>
<ul><!-- -->
<li><!-- -->
<h3><!-- -->MME, SGW, PGW, HSS, and PCRF</h3>
</li>
</ul>
<p class="css-1pb9ti4"><!-- -->The NextEPC package is available on the recent versions of Ubuntu.</p>
<pre class="css-1vfmixc"><pre><code class="language-bash">sudo apt-get -y install software-properties-common
sudo add-apt-repository ppa:acetcom/nextepc
sudo apt-get update
sudo apt-get -y install nextepc
</code></pre></pre>
<p class="css-1pb9ti4"><!-- -->This will create a virtual network interface named as <em><!-- -->pgwtun</em>. It is automatically removed by uninstalling NextEPC.</p>
<pre class="css-1vfmixc"><pre><code class="language-markdown">ifconfig pgwtun
pgwtun    Link encap:UNSPEC  HWaddr 00-00-00-00-00-00-00-00-00-00-00-00-00-00-00-00  
          inet addr:45.45.0.1  P-t-P:45.45.0.1  Mask:255.255.0.0
          inet6 addr: fe80::50f6:182c:5aa3:16bb/64 Scope:Link
          inet6 addr: cafe::1/64 Scope:Global
          ...
</code></pre></pre>
<p class="css-1pb9ti4"><!-- -->The NextEPC service is registered in <code class=""><!-- -->systemd</code> environment, and is started automatically during the installation phase. The service names are <em><!-- -->nextepc-mmed</em>, <em><!-- -->nextepc-sgwd</em>, <em><!-- -->nextepc-pgwd</em>, <em><!-- -->nextepc-hssd</em>, and <em><!-- -->nextepc-pcrfd</em>. You can use the <code class=""><!-- -->systemctl</code> command to control specific services.</p>
<pre class="css-1vfmixc"><pre><code class="language-bash">sudo systemctl status nextepc-mmed (Check the service status)
sudo systemctl stop nextepc-mmed (Stop the service)
sudo systemctl disable nextepc-mmed (Will not be started after rebooting)
sudo systemctl enable nextepc-mmed (Will be started after rebooting)
sudo systemctl start nextepc-mmed (Start the service)
sudo systemctl restart nextepc-mmed (Stop and start)
</code></pre></pre>
<ul><!-- -->
<li><!-- -->
<h3><!-- -->Web User Interface</h3>
</li>
</ul>
<p class="css-1pb9ti4"><!-- -->The LTE user subcription information of NextEPC is stored and maintained by <a href="https://www.mongodb.com/"><!-- -->Mongo DB</a>. To manage the subscriber information, <a href="https://docs.mongodb.com/ecosystem/tools/"><!-- -->Mongo DB client</a> is required, and this client can connect to the DB URI [<em><!-- -->mongodb://localhost/nextepc</em>]. </p>
<p class="css-1pb9ti4"><!-- -->NextEPC provides an alternative management interface for customers to manage their subscriber information in an easy way, that is <strong><!-- -->Web User Interface</strong>. The following shows how to install the Web UI of NextEPC.</p>
<pre class="css-1vfmixc"><pre><code class="language-bash">sudo apt-get -y install curl
curl -sL https://deb.nodesource.com/setup_8.x | sudo -E bash -
curl -sL http://nextepc.org/static/webui/install | sudo -E bash -
</code></pre></pre>
<p class="css-1pb9ti4"><!-- -->The service name is <em><!-- -->nextepc-webui</em>. You must run it manually after installation. And then, the web server will be running on <em><a href="http://localhost:3000"><!-- -->http://localhost:3000</a></em>.</p>
<pre class="css-1vfmixc"><pre><code class="language-bash">sudo systemctl start nextepc-webui
</code></pre></pre>
<ul><!-- -->
<li><!-- -->
<h3><!-- -->Uninstall NextEPC</h3>
</li>
</ul>
<pre class="css-1vfmixc"><pre><code class="language-bash">curl -sL http://nextepc.org/static/webui/uninstall | sudo -E bash -
sudo apt-get purge nextepc*
</code></pre></pre>
<p class="css-1pb9ti4"><!-- -->You may need to remove manually /var/log/nextepc unless it is empty.</p>
<pre class="css-1vfmixc"><pre><code class="language-bash">sudo rm -Rf /var/log/nextepc
</code></pre></pre>
<h2><!-- -->CentOS, Fedora, FreeBSD, and Mac OS X</h2>
<p class="css-1pb9ti4"><!-- -->For these OS, you should build NextEPC from the code. First clone this <a href="https://github.com/acetcom/nextepc.git"><!-- -->repository</a> and then follow instructions described in the <a href="http://nextepc.org/docs/"><!-- -->documentation</a>. </p>
<ul><!-- -->
<li><!-- -->
<h3><a href="http://nextepc.org/docs/build/1-centos"><!-- -->CentOS</a></h3>
</li>
<li><!-- -->
<h3><a href="http://nextepc.org/docs/build/2-fedora"><!-- -->Fedora</a></h3>
</li>
<li><!-- -->
<h3><a href="http://nextepc.org/docs/build/3-freebsd"><!-- -->FreeBSD</a></h3>
</li>
<li><!-- -->
<h3><a href="http://nextepc.org/docs/build/4-macosx"><!-- -->Mac OS X</a></h3>
</li>
</ul></div><div class="css-2v80ry"><div class="css-osn4vg"></div><div class="css-o2qijk"><a class="next" href="/guides/2-build"><div class="nav-title">Next</div><div class="article-title"> <!-- -->Build on Ubuntu</div></a></div></div></article></section><footer class="css-8gkpgi"><div class="css-17a3lhg">NextEPC</div><div class="css-rr8qii">© 2017, 2018  - Sukchan Lee, Jinyoung Park, and Jihoon Brandon Lee</div><div class="css-rr8qii"><a href="mailto:brandon.jihoon@gmail.com">Contact Us</a></div><div class="css-1kehcpu">Built with <span>♥︎</span> and nextepc by <a href="https://github.com/acetcom"><!-- -->/<span>acetcom</span></a>, <a href="https://github.com/jyounggo"><!-- -->/<span>jyounggo</span></a>, and <a href="https://github.com/brandonjlee"><!-- -->/<span>brandonjlee</span></a></div></footer></main></div></div><div id="__next-error"></div></div><div><script>
          __NEXT_DATA__ = {"props":{"posts":[{"data":{"title":"Installation","order":1,"page":"guides","_entry":"posts/guides/1-installation.md","name":"1-installation","category":"guides","date":"2018-02-12T12:59:27.000Z","url":"/guides/1-installation"},"content":"\nThis post will guide you on how to get installed **NextEPC** with your environment. To date, NextEPC has been tested on GNU/Linux distributions(Debian, Ubuntu, CentOS, Fedora), FreeBSD, and Mac OS X.\n\n\n\n## Ubuntu\n\nTo get the latest Ubuntu version, please visit the official Ubuntu website: [https://www.ubuntu.com/download/](https://www.ubuntu.com/download/). \n\n* ### MME, SGW, PGW, HSS, and PCRF\n\nThe NextEPC package is available on the recent versions of Ubuntu.\n\n```bash\nsudo apt-get -y install software-properties-common\nsudo add-apt-repository ppa:acetcom/nextepc\nsudo apt-get update\nsudo apt-get -y install nextepc\n```\nThis will create a virtual network interface named as *pgwtun*. It is automatically removed by uninstalling NextEPC.\n\n```markdown\nifconfig pgwtun\npgwtun    Link encap:UNSPEC  HWaddr 00-00-00-00-00-00-00-00-00-00-00-00-00-00-00-00  \n          inet addr:45.45.0.1  P-t-P:45.45.0.1  Mask:255.255.0.0\n          inet6 addr: fe80::50f6:182c:5aa3:16bb/64 Scope:Link\n          inet6 addr: cafe::1/64 Scope:Global\n          ...\n```\n\nThe NextEPC service is registered in `systemd` environment, and is started automatically during the installation phase. The service names are *nextepc-mmed*, *nextepc-sgwd*, *nextepc-pgwd*, *nextepc-hssd*, and *nextepc-pcrfd*. You can use the `systemctl` command to control specific services.\n\n```bash\nsudo systemctl status nextepc-mmed (Check the service status)\nsudo systemctl stop nextepc-mmed (Stop the service)\nsudo systemctl disable nextepc-mmed (Will not be started after rebooting)\nsudo systemctl enable nextepc-mmed (Will be started after rebooting)\nsudo systemctl start nextepc-mmed (Start the service)\nsudo systemctl restart nextepc-mmed (Stop and start)\n```\n\n\n* ### Web User Interface\n\nThe LTE user subcription information of NextEPC is stored and maintained by [Mongo DB](https://www.mongodb.com/). To manage the subscriber information, [Mongo DB client](https://docs.mongodb.com/ecosystem/tools/) is required, and this client can connect to the DB URI [_mongodb://localhost/nextepc_]. \n\nNextEPC provides an alternative management interface for customers to manage their subscriber information in an easy way, that is **Web User Interface**. The following shows how to install the Web UI of NextEPC.\n\n```bash\nsudo apt-get -y install curl\ncurl -sL https://deb.nodesource.com/setup_8.x | sudo -E bash -\ncurl -sL http://nextepc.org/static/webui/install | sudo -E bash -\n```\n\nThe service name is *nextepc-webui*. You must run it manually after installation. And then, the web server will be running on _http://localhost:3000_.\n\n```bash\nsudo systemctl start nextepc-webui\n```\n\n\n\n* ### Uninstall NextEPC\n\n```bash\ncurl -sL http://nextepc.org/static/webui/uninstall | sudo -E bash -\nsudo apt-get purge nextepc*\n```\n\nYou may need to remove manually /var/log/nextepc unless it is empty.\n```bash\nsudo rm -Rf /var/log/nextepc\n```\n\n\n## CentOS, Fedora, FreeBSD, and Mac OS X\n\nFor these OS, you should build NextEPC from the code. First clone this [repository](https://github.com/acetcom/nextepc.git) and then follow instructions described in the [documentation](http://nextepc.org/docs/). \n\n* ### [CentOS](http://nextepc.org/docs/build/1-centos)\n* ### [Fedora](http://nextepc.org/docs/build/2-fedora)\n* ### [FreeBSD](http://nextepc.org/docs/build/3-freebsd)\n* ### [Mac OS X](http://nextepc.org/docs/build/4-macosx)\n"},{"data":{"title":"Build on Ubuntu","order":2,"page":"guides","_entry":"posts/guides/2-build.md","name":"2-build","category":"guides","date":"2018-02-12T13:08:41.000Z","url":"/guides/2-build"},"content":"\nSince NextEPC is an open source project, you can build and use this program directly from source code. If you have already installed it with a package manager, or are not interested in learning the source code, you can skip this guide and proceed to the next [configuration guide](http://nextepc.org/guides/3-configuration). \n\nNote that this guide is based on Ubuntu 16.04.3(Zenial) Distribution.\n\n## Prerequisites\n\nNextEPC requires MongoDB and TUN device. If you have previously installed NextEPC according to the [Installation Guide](http://nextepc.org/guides/1-installation), they was configured at that time. So, you can skip this step.\n\nInstall Mongo DB with Package Manager.\n```bash\nsudo apt-get -y install mongodb\nsudo systemctl start mongodb (if '/usr/bin/mongod' is not running)\n```\n\nTo run NextEPC with least privilege, TUN device permission should be a `crw-rw-rw-`(666). Otherwise, you need to run nextepc daemon with root privilege. If the permission is not `crw-rw-rw-`(666), you may need to install `udev` package.  Nevertheless, if the permssions do not change , you can run nextepc with root privileges or change the permission using `chmod 666 /dev/net/tun`.\n\n```bash\nls -al /dev/net/tun\ncrw-rw---- 1 root 28 10, 200 Feb 11 05:13 /dev/net/tun\nsudo apt-get install udev\nsudo systemctl start systemd-udevd (if '/lib/systemd/systemd-udevd' is not running)\n```\n\nWrite the configuration file for the TUN deivce.\n```bash\nsudo sh -c \"cat \u003c\u003c EOF \u003e /etc/systemd/network/99-nextepc.netdev\n[NetDev]\nName=pgwtun\nKind=tun\nEOF\"\n```\n\nCraete the TUN device. Interface name will be `pgwtun`.\n```\nsudo systemctl enable systemd-networkd\nsudo systemctl restart systemd-networkd\n\nsudo apt-get -y install net-tools\nifconfig pgwtun\n```\n\nThen, you need to check *IPv6 Kernel Configuration*. Although you can skip this process, we recommend that you set this up to support IPv6-enabled UE.\n\n```bash\nsysctl -n net.ipv6.conf.pgwtun.disable_ipv6\n\n(if the output is 0 and IPv6 is enabled, skip the followings)\nsudo sh -c \"echo 'net.ipv6.conf.pgwtun.disable_ipv6=0' \u003e /etc/sysctl.d/30-nextepc.conf\"\nsudo sysctl -p /etc/sysctl.d/30-nextepc.conf\n```\n\nYou are now ready to set the IP address on TUN device. If IPv6 is disabled for TUN device, please remove `Address=cafe::1/64` from below.\n\n```bash\nsudo sh -c \"cat \u003c\u003c EOF \u003e /etc/systemd/network/99-nextepc.network\n[Match]\nName=pgwtun\n[Network]\nAddress=45.45.0.1/16\nAddress=cafe::1/64\nEOF\"\n```\n\nCheck the TUN(pgwtun) device again.\n```\nsudo systemctl restart systemd-networkd\nifconfig pgwtun\n```\n\n## MME, SGW, PGW, HSS, and PCRF\n\nInstall the depedencies for building the source\n```bash\nsudo apt-get -y install autoconf libtool gcc pkg-config git flex bison libsctp-dev libgnutls28-dev libgcrypt-dev libssl-dev libmongoc-dev libbson-dev libyaml-dev\n```\n\nGit clone and compile\n```bash\nacetcom@nextepc:~$ git clone https://github.com/acetcom/nextepc\nccetcom@nextepc:~$ cd nextepc\nacetcom@nextepc:~/nextepc$ autoreconf -iv\nacetcom@nextepc:~/nextepc$ ./configure --prefix=`pwd`/install\nacetcom@nextepc:~/nextepc$ make -j `nproc`\nacetcom@nextepc:~/nextepc$ make install\n```\n\nWe provide a program that checks whether the installation is correct. After running the wireshark, select `loopback` interface, filter `s1ap || diameter || gtpv2 || gtp` and run `./test/testepc`. You can see the virtually created packets. [[testepc.pcapng]](http://nextepc.org/static/pcapng/testepc.pcapng)\n\nNote that you should stop all nextepc daemons before running test program if you have already installed it with a package manage.\n```bash\n(if nextepc-daemons are running)\nsudo systemctl stop nextepc-mmed\nsudo systemctl stop nextepc-sgwd\nsudo systemctl stop nextepc-pgwd\nsudo systemctl stop nextepc-hssd\nsudo systemctl stop nextepc-pcrfd\n\nacetcom@nextepc:~/nextepc$ ./test/testepc\n```\n\nIt is a convenient tool called `nextepc-epcd` for developers. This daemon includes both *MME*, *SGW*, *PGW*, *HSS*, and *PCRF*. So, instead of running all 5 daemons, you can just run `nextepc-epcd` in your development environment.\n\n```bash\nacetcom@nextepc:~/nextepc$ ./nextepc-epcd\nNextEPC daemon v0.3.3 - Feb 11 2018 07:19:59\n\n  PID[3720] : '/home/acetcom/nextepc/install/var/run/nextepc-epcd/pid'\n  File Logging : '/home/acetcom/nextepc/install/var/log/nextepc/nextepc.log'\n  MongoDB URI : 'mongodb://localhost/nextepc'\n  Configuration : '/home/acetcom/nextepc/install/etc/nextepc/nextepc.conf'\n[02/11 07:26:42.001] PCRF try to initialize\n...\n```\n\nWhen you run `nextepc-epcd`, all logs for MME, SGW, PGW, PCRF, and HSS are written to `nextepc.log`, and all settings are managed in one place for `nextepc.conf`. You can find the log/conf path at the beginning of running screen.\n\nSometimes, you may want to use newly updated source code.\n```bash\n(Control-C kill nextepc-epcd)\nacetcom@nextepc:~/nextepc$ make maintainer-clean\nacetcom@nextepc:~/nextepc$ rm -rf ./install\nacetcom@nextepc:~/nextepc$ git pull\nacetcom@nextepc:~/nextepc$ autoreconf -iv\nacetcom@nextepc:~/nextepc$ ./configure --prefix=`pwd`/install\nacetcom@nextepc:~/nextepc$ make -j `nproc`\nacetcom@nextepc:~/nextepc$ make install\nacetcom@nextepc:~/nextepc$ ./nextepc-epcd\n```\n\n## Web User Interface\n\nTo get the latest [Node.js](https://nodejs.org/) and [NPM](https://www.npmjs.com/), please visit the official Node.js website:\n[https://nodesjs.org/en/download/](https://nodesjs.org/en/download/).\n\nOr, you can install [Node.js](https://nodejs.org/) and [NPM](https://www.npmjs.com/) with a package manager.\n\n```bash\nsudo apt-get -y install curl\ncurl -sL https://deb.nodesource.com/setup_8.x | sudo -E bash -\nsudo apt-get -y install nodejs\n```\n\nInstall the dependencies to run WebUI\n\n```bash\nacetcom@nextepc:~/nextepc$ cd webui\nacetcom@nextepc:~/nextepc/webui$ npm install\n```\n\nRunning WebUI\n\n```bash\nacetcom@nextepc:~/nextepc/webui$ npm run dev\n```\n\nNow the web server is running on _http://localhost:3000_.\n\n"},{"data":{"title":"Configuration","order":3,"page":"guides","_entry":"posts/guides/3-configuration.md","name":"3-configuration","category":"guides","date":"2018-02-12T12:46:30.000Z","url":"/guides/3-configuration"},"content":"\nIn LTE, there are tons of configurable parameters. This page will guide you to set essential parameters up. The configuration consists of three parts: IP network connectivity, LTE network settings and Subscribers registering.\n\n## 1. IP Connectivity between Network Entities\n\nThe minimum requirement of having IP connectvity is to modify the configuration files of MME and SGW. Once NextEPC has been installed, you can find [YAML](http://yaml.org/)-format configuration files in `/etc/nextepc/*.conf`.\n\nNote that [/etc/nextepc/nextepc.conf](https://github.com/acetcom/nextepc/blob/master/support/config/nextepc.conf.in) is just a manual. If you use `nextepc-epcd` in a build environment, this configuration file could be used, but if you installed it with the package manager, modifying this configuration file has no effect.\n\nAnyway, before setting up, please decide a network interface to run NextEPC, and then the IP address of the interface needs to be recorded in the configuration files.\n\n### Modification of MME config\n\nOpen `/etc/nextepc/mme.conf` file, and find an item in mme \u0026rarr; s1ap. Please set your IP address with putting `addr:` keyword.\n\n```yaml\nmme:\n    freeDiameter: mme.conf\n    s1ap:\n      addr: \u003cip address\u003e\n...\n```\n\nSave and exit.\n\n### Modification of SGW config\n\nOpen `/etc/nextepc/sgw.conf` file, and find an item in sgw \u0026rarr; gtpu. Please set your IP address with putting `addr:` keyword.\n\n```yaml\nsgw:\n    gtpc:\n      addr: 127.0.0.2\n    gtpu:\n      addr: \u003cip address\u003e\n...\n```\n\nSave and exit.\n\n\n### Adding a route for UE to have Internet connectivity\n\nBy default, a LTE UE will receive a IP address with the network address of 45.45.0.0/16. If you have a [NAT](https://en.wikipedia.org/wiki/Network_address_translation) router (e.g., wireless router, cable modem, etc), the LTE UE can reach Internet in uplink, but it cannot in downlink. It's because the NAT router has no idea on 45.45.0.0/16, so adding a route is required. Please refer to the user manual to know how to add a static route in your router.\n\nAdd a route of both 45.45.0.0/16 and cafe::0/64 to go the PGW IP address. For example, a command for Linux will be:\n\n```bash\nsudo ip route add 45.45.0.0/16 via \u003cPGW IP address\u003e\nsudo ip route add cafe::0/64 via \u003cPGW IP address\u003e\n```\n\nIf you have no NAT router, there is another option for you. `iptables` can solve the problem. You execute the following command in NextEPC installed host.\n\n```bash\nsudo sh -c \"echo 1 \u003e /proc/sys/net/ipv4/ip_forward\"\nsudo iptables -t nat -A POSTROUTING -o eth0 -j MASQUERADE\nsudo iptables -I INPUT -i pgwtun -j ACCEPT\n```\n\n## 2. LTE Network Settings\n\n### PLMN and TAC\n\nBy default, LTE PLMN and TAC are set as shown in the following:\n\n```yaml\nmme:\n    gummei: \n      plmn_id:\n        mcc: 001\n        mnc: 01\n      mme_gid: 2\n      mme_code: 1\n    tai:\n      plmn_id:\n        mcc: 001\n        mnc: 01\n      tac: 12345\n```\n\nThe LTE EnodeBs need to be set to use the same values of PLMN and TAC in NextEPC. If you want to change them, please modifiy in `/etc/nextepc/mme.conf`.\n\n\n### Restarting MME and SGW.\n\nAfter changing conf files, please restart NextEPC daemons.\n\n```bash\nsudo systemctl restart nextepc-mmed\nsudo systemctl restart nextepc-sgwd\n```\n\n## 3. Register a subscriber\n\nOpen _http://localhost:3000_. Login with **admin**. Later, you can change the password in _Account_ Menu.\n\n```markdown\n  - Username : admin\n  - Password : 1423\n```\n\nUsing Web UI, you can add a subscriber without a Mongo DB client. \n\n```markdown\n  - Go to Subscriber Menu.\n  - Click `+` Button to add a new subscriber.\n  - Fill the IMSI, security context(K, OPc, AMF), and APN of the subscriber.\n  - Click `SAVE` Button\n```\n\nThis addition affects immediately NextEPC without restaring any daemon.\n\n## Appendix \n\nWhen you install NextEPC for the first time, the default configuration looks like this:\n\n### Network\n\n```\n* MME\n  S1AP: listen on all address avaiable in system\n  GTP-C: listen on the first IP address in system\n  DIAMETER: 127.0.0.2 (No TLS)\n\n* SGW\n  GTP-C: 127.0.0.2\n  GTP-U: listen on the first IP address in system\n\n* PGW\n  GTP-C: Both 127.0.0.3 and [::1]\n  GTP-U: Both 127.0.0.3 and [::1]\n  DIAMETER: 127.0.0.3 (No TLS)\n\n* HSS\n  DIAMETER: 127.0.0.4 (No TLS)\n\n* PCRF\n  DIAMETER: 127.0.0.5 (No TLS)\n```\n\n### GUMMEI, PLMN and TAC\n\n```\n* GUMMEI\n  PLMN ID - MNC: 001, MCC: 01\n  MME Group : 2\n  MME Code : 1\n\n* TAI\n  PLMN ID - MNC: 001, MCC: 01\n  TAC : 12345\n```\n\n### Security\n\n```\n* Integrity : EIA1 - Snow 3G\n* Ciphering : EEA0 - Nothing\n```\n\n### UE Network\n\n```\n* IPv4 : 45.45.0.1/16\n* IPv6 : cafe::1/64\n```\n\n### DNS\n\n```\n* IPv4\n  Primary : 8.8.8.8 \n  Secondary : 8.8.4.4\n\n* IPv6\n  Primary : 2001:4860:4860::8888\n  Secondary : 2001:4860:4860::8844\n```\n"}],"post":{"data":{"title":"Installation","order":1,"page":"guides","_entry":"posts/guides/1-installation.md","name":"1-installation","category":"guides","date":"2018-02-12T12:59:27.000Z","url":"/guides/1-installation"},"content":"\nThis post will guide you on how to get installed **NextEPC** with your environment. To date, NextEPC has been tested on GNU/Linux distributions(Debian, Ubuntu, CentOS, Fedora), FreeBSD, and Mac OS X.\n\n\n\n## Ubuntu\n\nTo get the latest Ubuntu version, please visit the official Ubuntu website: [https://www.ubuntu.com/download/](https://www.ubuntu.com/download/). \n\n* ### MME, SGW, PGW, HSS, and PCRF\n\nThe NextEPC package is available on the recent versions of Ubuntu.\n\n```bash\nsudo apt-get -y install software-properties-common\nsudo add-apt-repository ppa:acetcom/nextepc\nsudo apt-get update\nsudo apt-get -y install nextepc\n```\nThis will create a virtual network interface named as *pgwtun*. It is automatically removed by uninstalling NextEPC.\n\n```markdown\nifconfig pgwtun\npgwtun    Link encap:UNSPEC  HWaddr 00-00-00-00-00-00-00-00-00-00-00-00-00-00-00-00  \n          inet addr:45.45.0.1  P-t-P:45.45.0.1  Mask:255.255.0.0\n          inet6 addr: fe80::50f6:182c:5aa3:16bb/64 Scope:Link\n          inet6 addr: cafe::1/64 Scope:Global\n          ...\n```\n\nThe NextEPC service is registered in `systemd` environment, and is started automatically during the installation phase. The service names are *nextepc-mmed*, *nextepc-sgwd*, *nextepc-pgwd*, *nextepc-hssd*, and *nextepc-pcrfd*. You can use the `systemctl` command to control specific services.\n\n```bash\nsudo systemctl status nextepc-mmed (Check the service status)\nsudo systemctl stop nextepc-mmed (Stop the service)\nsudo systemctl disable nextepc-mmed (Will not be started after rebooting)\nsudo systemctl enable nextepc-mmed (Will be started after rebooting)\nsudo systemctl start nextepc-mmed (Start the service)\nsudo systemctl restart nextepc-mmed (Stop and start)\n```\n\n\n* ### Web User Interface\n\nThe LTE user subcription information of NextEPC is stored and maintained by [Mongo DB](https://www.mongodb.com/). To manage the subscriber information, [Mongo DB client](https://docs.mongodb.com/ecosystem/tools/) is required, and this client can connect to the DB URI [_mongodb://localhost/nextepc_]. \n\nNextEPC provides an alternative management interface for customers to manage their subscriber information in an easy way, that is **Web User Interface**. The following shows how to install the Web UI of NextEPC.\n\n```bash\nsudo apt-get -y install curl\ncurl -sL https://deb.nodesource.com/setup_8.x | sudo -E bash -\ncurl -sL http://nextepc.org/static/webui/install | sudo -E bash -\n```\n\nThe service name is *nextepc-webui*. You must run it manually after installation. And then, the web server will be running on _http://localhost:3000_.\n\n```bash\nsudo systemctl start nextepc-webui\n```\n\n\n\n* ### Uninstall NextEPC\n\n```bash\ncurl -sL http://nextepc.org/static/webui/uninstall | sudo -E bash -\nsudo apt-get purge nextepc*\n```\n\nYou may need to remove manually /var/log/nextepc unless it is empty.\n```bash\nsudo rm -Rf /var/log/nextepc\n```\n\n\n## CentOS, Fedora, FreeBSD, and Mac OS X\n\nFor these OS, you should build NextEPC from the code. First clone this [repository](https://github.com/acetcom/nextepc.git) and then follow instructions described in the [documentation](http://nextepc.org/docs/). \n\n* ### [CentOS](http://nextepc.org/docs/build/1-centos)\n* ### [Fedora](http://nextepc.org/docs/build/2-fedora)\n* ### [FreeBSD](http://nextepc.org/docs/build/3-freebsd)\n* ### [Mac OS X](http://nextepc.org/docs/build/4-macosx)\n"}},"pathname":"/guides","query":{"_entry":"posts/guides/1-installation.md"},"buildId":"dfcd33b6-fa72-4f4e-9b55-5818412d8665","buildStats":{"app.js":{"hash":"f8395018b35dda4ef53e67b05c700127"}},"assetPrefix":"","nextExport":true,"err":null,"ids":["hb19ea","1a7qg5","nu6evi","1774q3n","8gkpgi","17a3lhg","rr8qii","1kehcpu","10ndyw7","12vtgqa","pet3mp","nudg5n","4dv31v","13a9kig","1vfmixc","uhl5wg","1gxokr3","1poywp1","2qz4zg","rsgsev","1wcxrv4","1pb9ti4","2v80ry","osn4vg","o2qijk"],"chunks":[]}
          module={}
          __NEXT_LOADED_PAGES__ = []
          __NEXT_LOADED_CHUNKS__ = []

          __NEXT_REGISTER_PAGE = function (route, fn) {
            __NEXT_LOADED_PAGES__.push({ route: route, fn: fn })
          }

          __NEXT_REGISTER_CHUNK = function (chunkName, fn) {
            __NEXT_LOADED_CHUNKS__.push({ chunkName: chunkName, fn: fn })
          }
        </script><script async="" id="__NEXT_PAGE__/guides" type="text/javascript" src="/_next/dfcd33b6-fa72-4f4e-9b55-5818412d8665/page/guides/index.js"></script><script async="" id="__NEXT_PAGE__/_error" type="text/javascript" src="/_next/dfcd33b6-fa72-4f4e-9b55-5818412d8665/page/_error/index.js"></script><div></div><script type="text/javascript" src="/_next/f8395018b35dda4ef53e67b05c700127/app.js" async=""></script></div></body></html>