<!DOCTYPE html><html lang="en"><head><link rel="preload" href="/_next/02bf46eb-e092-44c3-8989-8edca614395d/page/docs/index.js" as="script"/><link rel="preload" href="/_next/02bf46eb-e092-44c3-8989-8edca614395d/page/_error/index.js" as="script"/><link rel="preload" href="/_next/252668b51844c7fbec8c12ba9dfc6833/app.js" as="script"/><meta charSet="utf-8" class="next-head"/><title class="next-head">NextEPC | Docs | Fedora</title><link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/atom-one-light.min.css" class="next-head"/><title>NextEPC</title><style>html,body{margin:0;font-family:-apple-system,BlinkMacSystemFont,"Helvetica Neue","Lucida Grande",sans-serif;font-weight:100;}a{color:#666;font-weight:200;text-decoration-color:#aaa;}.css-1a7qg5{min-height:60px;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;padding-right:30px;-webkit-box-pack:end;-webkit-justify-content:flex-end;-ms-flex-pack:end;justify-content:flex-end;-webkit-align-items:stretch;-webkit-box-align:stretch;-ms-flex-align:stretch;align-items:stretch;box-sizing:border-box;}.css-1a7qg5 > a{padding:0 15px;color:#999;text-decoration:none;}.css-1a7qg5 > *{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;}.css-nu6evi{text-transform:uppercase;font-size:.8em;-webkit-letter-spacing:.2em;-moz-letter-spacing:.2em;-ms-letter-spacing:.2em;letter-spacing:.2em;}.css-nu6evi.active{color:#f63;border-bottom:3px solid #f63;border-top:3px solid transparent;}.css-nu6evi:hover{color:#f63;}.css-1774q3n:hover svg{-webkit-fill:#212121;fill:#212121;}.css-8gkpgi{position:relative;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;background:#272121;height:120px;padding-top:20px;}.css-8gkpgi > *{padding-left:20px;}.css-17a3lhg{color:#f63;font-size:1.8em;}.css-rr8qii{font-size:.8em;color:#564949;padding-bottom:20px;}.css-1kehcpu{background-color:#131010;padding:10px 0;-webkit-align-self:stretch;-ms-flex-item-align:stretch;align-self:stretch;text-align:center;font-size:.75em;}.css-1kehcpu span{font-weight:600;color:#f63;}.css-1kehcpu,.css-1kehcpu a,.css-1kehcpu a:visited,.css-1kehcpu a:hover{color:#564949;text-decoration:none;}html,body{margin:0;font-family:-apple-system,BlinkMacSystemFont,"Helvetica Neue","Lucida Grande",sans-serif;font-weight:100;}a{color:#666;font-weight:200;text-decoration-color:#ddd;}.css-12vtgqa{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;color:#666;}.css-pet3mp{font-size:1.4em;padding-left:20px;margin-right:auto;color:#212121;font-weight:400;}.css-nudg5n{font-weight:100;}.css-11sj1a{background:#f9f9f9;min-height:100vh;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:row;-ms-flex-direction:row;flex-direction:row;}.css-4dv31v{-webkit-flex:1;-ms-flex:1;flex:1;border-right:1px solid #eee;}.css-15qkoxo{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;-webkit-align-install:center;-webkit-box-align-install:center;-ms-flex-align-install:center;align-install:center;-webkit-align-items:stretch;-webkit-box-align:stretch;-ms-flex-align:stretch;align-items:stretch;}.css-4kr8dk{padding:7px 15px;border-left:5px solid transparent;-webkit-flex:1;-ms-flex:1;flex:1;font-size:.8em;font-weight:600;color:#212121;background:#eee;text-transform:uppercase;}.css-13a9kig{padding:10px 20px;text-decoration:none;color:#999;border-left:5px solid transparent;-webkit-flex:1;-ms-flex:1;flex:1;}.css-13a9kig.active,.css-13a9kig.active:hover{color:#212121;background-color:#e4e4e4;border-left:5px solid #f63;}.css-13a9kig:hover{color:#212121;background-color:#f4f4f4;border-left:5px solid #ccc;}.css-1yl0npl{-webkit-flex:4;-ms-flex:4;flex:4;width:1px;padding:60px 0 0 60px;}.css-161rhh0{font-size:.8em;font-weight:100;-webkit-letter-spacing:.2em;-moz-letter-spacing:.2em;-ms-letter-spacing:.2em;letter-spacing:.2em;color:#666;text-transform:uppercase;}.css-1f7yxra{font-size:4em;font-weight:100;margin-top:-15px;padding-bottom:15px;border-bottom:3px solid #f63;}.css-1hivv32{font-size:1.3em;font-weight:300;color:#444;-webkit-letter-spacing:-0.05px;-moz-letter-spacing:-0.05px;-ms-letter-spacing:-0.05px;letter-spacing:-0.05px;line-height:1.5em;max-width:750px;margin:0;}.css-1hivv32 code{font-size:1em;display:inline-block;padding:0 5px;background-color:#eee;vertical-align:bottom;}.css-1hivv32 strong,.css-1hivv32 b{font-weight:600;}.css-1ypnnmu{font-size:1.8em;line-height:2em;font-weight:600;color:#000;margin:60px 0 0 -2px;}.css-1ypnnmu > em{font-weight:200;-webkit-letter-spacing:-0.8px;-moz-letter-spacing:-0.8px;-ms-letter-spacing:-0.8px;letter-spacing:-0.8px;padding:0 4px;}.css-1vfmixc{margin:50px 0;font-size:1.2em;padding:5px 20px;background:#f2f2f2;}.css-1vfmixc .hljs{background:#f2f2f2;}</style><link rel="icon" href="/static/favicon.ico"/></head><body><div><div id="__next"><div data-reactroot=""><main class="css-12vtgqa"><nav class="css-1a7qg5"><div class="css-pet3mp">NextEPC<span class="css-nudg5n"><!-- -->/<!-- -->documentation</span></div><a href="/" class="css-nu6evi">Home</a><a href="/guides" class="css-nu6evi">Guides</a><a href="/docs" class="active css-nu6evi">Docs</a><a href="https://github.com/acetcom/nextepc" class="css-1774q3n"><svg fill="#c0c0c0" width="25" viewBox="0 0 33 32" version="1.1" xmlns="http://www.w3.org/2000/svg"><path d="M16.3,0 C7.3,0 -3.55271368e-15,7.3 -3.55271368e-15,16.3 C-3.55271368e-15,23.5 4.7,29.6 11.1,31.8 C11.9,31.9 12.2,31.4 12.2,31 L12.2,28.2 C7.7,29.2 6.7,26 6.7,26 C6,24.2 5,23.7 5,23.7 C3.5,22.7 5.1,22.7 5.1,22.7 C6.7,22.8 7.6,24.4 7.6,24.4 C9.1,26.9 11.4,26.2 12.3,25.8 C12.4,24.7 12.9,24 13.3,23.6 C9.7,23.2 5.9,21.8 5.9,15.5 C5.9,13.7 6.5,12.3 7.6,11.1 C7.4,10.7 6.9,9 7.8,6.8 C7.8,6.8 9.2,6.4 12.3,8.5 C13.6,8.1 15,8 16.4,8 C17.8,8 19.2,8.2 20.5,8.5 C23.6,6.4 25,6.8 25,6.8 C25.9,9 25.3,10.7 25.2,11.1 C26.2,12.2 26.9,13.7 26.9,15.5 C26.9,21.8 23.1,23.1 19.5,23.5 C20.1,24 20.6,25 20.6,26.5 L20.6,31 C20.6,31.4 20.9,31.9 21.7,31.8 C28.2,29.6 32.8,23.5 32.8,16.3 C32.6,7.3 25.3,0 16.3,0 L16.3,0 Z" id="Shape"></path></svg></a></nav><section class="css-11sj1a"><side class="css-4dv31v"><nav class="css-15qkoxo"><div class="css-4kr8dk">NextEPC</div><a class="css-13a9kig" href="/docs/nextepc/2-history">History</a><a class="css-13a9kig" href="/docs/nextepc/3-roadmap">Roadmap</a><a class="css-13a9kig" href="/docs/nextepc/4-license">License</a><div class="css-4kr8dk">Build</div><a class="css-13a9kig" href="/docs/build/1-centos">CentOS</a><a class="active css-13a9kig" href="/docs/build/2-fedora">Fedora</a><a class="css-13a9kig" href="/docs/build/3-freebsd">FreeBSD</a><a class="css-13a9kig" href="/docs/build/4-macosx">Mac OS X</a><a class="css-13a9kig" href="/docs/build/5-ubuntu">Ubuntu (Trusty)</a></nav></side><article class="css-1yl0npl"><h2 class="css-161rhh0">docs/build</h2><h1 class="css-1f7yxra">Fedora</h1><div><p class="css-1hivv32">This guide is based on Fedora 27 Distribution.</p>
<div class="css-1ypnnmu"><!-- -->Prerequisites</div>
<p class="css-1hivv32"><!-- -->Install Mongo DB with Package Manager.</p>
<pre class="css-1vfmixc"><pre><code class="language-bash">sudo dnf -y install mongodb-server
</code></pre></pre>
<p class="css-1hivv32"><!-- -->Run MongoDB server.</p>
<pre class="css-1vfmixc"><pre><code class="language-bash">mkdir -p data/db
mongod --dbpath data/db
</code></pre></pre>
<p class="css-1hivv32"><!-- -->To run NextEPC with least privilege, TUN device permission should be a <code class=""><!-- -->crw-rw-rw-</code>(666). Otherwise, you need to run nextepc daemon with root privilege. If the permission is not <code class=""><!-- -->crw-rw-rw-</code>(666), you may need to install <code class=""><!-- -->udev</code> package.  Nevertheless, if the permssions do not change , you can run nextepc with root privileges or change the permission using <code class=""><!-- -->chmod 666 /dev/net/tun</code>.</p>
<pre class="css-1vfmixc"><pre><code class="language-bash">ls -al /dev/net/tun
crw-rw---- 1 root 28 10, 200 Feb 11 05:13 /dev/net/tun
sudo dnf -y install udev
sudo systemctl start systemd-udevd (if &#x27;/lib/systemd/systemd-udevd&#x27; is not running)
</code></pre></pre>
<p class="css-1hivv32"><!-- -->Craete the TUN device. Interface name will be <code class=""><!-- -->pgwtun</code>.</p>
<pre class="css-1vfmixc"><code class=""><!-- -->sudo dnf -y install iproute
sudo ip tuntap add name pgwtun mode tun
ip link show
</code></pre>
<p class="css-1hivv32"><!-- -->Then, you need to check <em><!-- -->IPv6 Kernel Configuration</em>. Although you can skip this process, we recommend that you set this up to support IPv6-enabled UE.</p>
<pre class="css-1vfmixc"><pre><code class="language-bash">sysctl -n net.ipv6.conf.pgwtun.disable_ipv6

(if the output is 0 and IPv6 is enabled, skip the followings)
sudo sh -c &quot;echo &#x27;net.ipv6.conf.pgwtun.disable_ipv6=0&#x27; &gt; /etc/sysctl.d/30-nextepc.conf&quot;
sudo sysctl -p /etc/sysctl.d/30-nextepc.conf
</code></pre></pre>
<p class="css-1hivv32"><!-- -->You are now ready to set the IP address on TUN device. If IPv6 is disabled for TUN device, please do not execute <code class=""><!-- -->sudo ip addr add cafe::1/64 dev pgwtun</code> from below.</p>
<pre class="css-1vfmixc"><pre><code class="language-bash">sudo ip addr add 45.45.0.1/16 dev pgwtun
sudo ip addr add cafe::1/64 dev pgwtun
</code></pre></pre>
<p class="css-1hivv32"><!-- -->Check the TUN(pgwtun) device again.</p>
<pre class="css-1vfmixc"><pre><code class="language-bash">sudo ip link set pgwtun up
ip link show
</code></pre></pre>
<div class="css-1ypnnmu"><!-- -->MME, SGW, PGW, HSS, and PCRF</div>
<p class="css-1hivv32"><!-- -->Install the depedencies for building the source</p>
<pre class="css-1vfmixc"><pre><code class="language-bash">sudo dnf -y install git gcc flex bison autoconf libtool mongo-c-driver-devel lksctp-tools-devel libidn-devel gnutls-devel libgcrypt-devel openssl-devel cyrus-sasl-devel snappy-devel libyaml-devel
</code></pre></pre>
<p class="css-1hivv32"><!-- -->Git clone and compile</p>
<pre class="css-1vfmixc"><pre><code class="language-bash">acetcom@nextepc:~$ git clone https://github.com/acetcom/nextepc
ccetcom@nextepc:~$ cd nextepc
acetcom@nextepc:~/nextepc$ autoreconf -iv
acetcom@nextepc:~/nextepc$ ./configure --prefix=`pwd`/install
acetcom@nextepc:~/nextepc$ make -j `nproc`
acetcom@nextepc:~/nextepc$ make install
</code></pre></pre>
<p class="css-1hivv32"><!-- -->We provide a program that checks whether the installation is correct. After running the wireshark, select <code class=""><!-- -->loopback</code> interface, filter <code class=""><!-- -->s1ap || diameter || gtpv2 || gtp</code> and run <code class=""><!-- -->./test/testepc</code>. You can see the virtually created packets. <a href="http://nextepc.org/static/pcapng/testepc.pcapng"><!-- -->[testepc.pcapng]</a></p>
<pre class="css-1vfmixc"><pre><code class="language-bash">acetcom@nextepc:~/nextepc$ ./test/testepc
</code></pre></pre>
<p class="css-1hivv32"><!-- -->It is a convenient tool called <code class=""><!-- -->nextepc-epcd</code> for developers. This daemon includes both <em><!-- -->MME</em>, <em><!-- -->SGW</em>, <em><!-- -->PGW</em>, <em><!-- -->HSS</em>, and <em><!-- -->PCRF</em>. So, instead of running all 5 daemons, you can just run <code class=""><!-- -->nextepc-epcd</code> in your development environment.</p>
<pre class="css-1vfmixc"><pre><code class="language-bash">acetcom@nextepc:~/nextepc$ ./nextepc-epcd
NextEPC daemon v0.3.3 - Feb 11 2018 07:19:59

  PID[3720] : &#x27;/home/acetcom/nextepc/install/var/run/nextepc-epcd/pid&#x27;
  File Logging : &#x27;/home/acetcom/nextepc/install/var/log/nextepc/nextepc.log&#x27;
  MongoDB URI : &#x27;mongodb://localhost/nextepc&#x27;
  Configuration : &#x27;/home/acetcom/nextepc/install/etc/nextepc/nextepc.conf&#x27;
[02/11 07:26:42.001] PCRF try to initialize
...
</code></pre></pre>
<p class="css-1hivv32"><!-- -->When you run <code class=""><!-- -->nextepc-epcd</code>, all logs for MME, SGW, PGW, PCRF, and HSS are written to <code class=""><!-- -->nextepc.log</code>, and all settings are managed in one place for <code class=""><!-- -->nextepc.conf</code>. You can find the log/conf path at the beginning of running screen.</p>
<h1></h1>
<p class="css-1hivv32"><!-- -->Sometimes, you may want to use newly updated source code.</p>
<pre class="css-1vfmixc"><pre><code class="language-bash">(Control-C kill nextepc-epcd)
acetcom@nextepc:~/nextepc$ make maintainer-clean
acetcom@nextepc:~/nextepc$ rm -rf ./install
acetcom@nextepc:~/nextepc$ git pull
acetcom@nextepc:~/nextepc$ autoreconf -iv
acetcom@nextepc:~/nextepc$ ./configure --prefix=`pwd`/install
acetcom@nextepc:~/nextepc$ make -j `nproc`
acetcom@nextepc:~/nextepc$ make install
acetcom@nextepc:~/nextepc$ ./nextepc-epcd
</code></pre></pre>
<div class="css-1ypnnmu"><!-- -->Web User Interface</div>
<p class="css-1hivv32"><!-- -->Install <a href="https://nodejs.org/"><!-- -->Node.js</a> and <a href="https://www.npmjs.com/"><!-- -->NPM</a> with a package manager.</p>
<pre class="css-1vfmixc"><pre><code class="language-bash">sudo dnf -y install nodejs
</code></pre></pre>
<p class="css-1hivv32"><!-- -->Install the dependencies to run WebUI</p>
<pre class="css-1vfmixc"><pre><code class="language-bash">acetcom@nextepc:~/nextepc$ cd webui
acetcom@nextepc:~/nextepc/webui$ npm install
</code></pre></pre>
<p class="css-1hivv32"><!-- -->Running WebUI</p>
<pre class="css-1vfmixc"><pre><code class="language-bash">acetcom@nextepc:~/nextepc/webui$ npm run dev
</code></pre></pre>
<p class="css-1hivv32"><!-- -->Now the web server is running on <em><a href="http://localhost:3000"><!-- -->http://localhost:3000</a></em>.</p></div></article></section><footer class="css-8gkpgi"><div class="css-17a3lhg">NextEPC</div><div class="css-rr8qii">© 2017, 2018  - Sukchan Lee, Jinyoung Park, and Jihoon Brandon Lee</div><div class="css-rr8qii"><a href="mailto:brandon.jihoon@gmail.com">Contact Us</a></div><div class="css-1kehcpu">Built with <span>♥︎</span> and nextepc by <a href="https://github.com/acetcom"><!-- -->/<span>acetcom</span></a>, <a href="https://github.com/jyounggo"><!-- -->/<span>jyounggo</span></a>, and <a href="https://github.com/brandonjlee"><!-- -->/<span>brandonjlee</span></a></div></footer></main></div></div><div id="__next-error"></div></div><div><script>
          __NEXT_DATA__ = {"props":{"posts":[{"data":{"title":"History","order":12,"page":"docs","_entry":"posts/docs/nextepc/2-history.md","name":"2-history","category":"docs/nextepc","date":"2018-02-11T22:36:18.000Z","url":"/docs/nextepc/2-history"},"content":"\n- 2018-Feb-11 : [v0.3.3](https://github.com/acetcom/nextepc/archive/v0.3.3.tar.gz)\n    - Fix the BUG for MAC failure of authentication failure([Issue #17](https://github.com/acetcom/nextepc/issues/17) from [`razaborg`](https://github.com/razaborg))\n\n\n- 2018-Jan-24 : [v0.3.2](https://github.com/acetcom/nextepc/archive/v0.3.2.tar.gz)\n    - Fix the BUG for EPS attach type of Attach accept([Issue #12](https://github.com/acetcom/nextepc/issues/12) from [`pcminitech`](https://github.com/pcminitech))\n\n\n- 2017-Dec-31 : [v0.3.1](https://github.com/acetcom/nextepc/archive/v0.3.1.tar.gz)\n    - Add Authentication Synch Failure ([Issue #11](https://github.com/acetcom/nextepc/issues/11) from [`eric80s`](https://github.com/eric80s))\n\n\n- 2017-Dec-18 : [v0.3.0](https://github.com/acetcom/nextepc/archive/v0.3.0.tar.gz)\n    - IPv6 Support (Linux Only)\n    - Change Configuration File (JSON -\u003e YAML)\n\n\n- 2017-Nov-02 : [v0.2.0](https://github.com/acetcom/nextepc/archive/v0.2.0.tar.gz)\n    - Publish Debian Package\n    - Support FreeBSD and Mac OS X\n\n\n- 2017-Oct-11 : [v0.1.1](https://github.com/acetcom/nextepc/archive/v0.1.1.tar.gz)\n    - Fix the bug related Mongo C Driver. [`...`](https://github.com/acetcom/nextepc/commit/4245502ae287df9c457621b3f4cccb519c4d4878)\n\n\n- 2017-Oct-09 : [v0.1.0](https://github.com/acetcom/nextepc/archive/v0.1.0.tar.gz)\n    - First version released.\n\n\n- 2017-Feb-01\n    - Programming started.\n"},{"data":{"title":"Roadmap","order":13,"page":"docs","_entry":"posts/docs/nextepc/3-roadmap.md","name":"3-roadmap","category":"docs/nextepc","date":"2018-02-11T10:40:10.000Z","url":"/docs/nextepc/3-roadmap"},"content":"\n- v0.4.0 : 2018-Mar\n    - VoLTE (Need to test with IMS)\n    - S10 interface between multiple MMEs.\n    - CS Fallback, SRVCC\n    - XOR, TUAK\n\n\n- Plan\n    - Roaming\n    - Design IPC between HSS/PCRF and Web User Interface.\n    - WebSocket\n    - OCS/OFCS\n    - CI(Continous Integration)\n    - Publish other package\n      * RPM\n      * FreeBSD\n      * Mac OS X\n    - Manual for man/info\n"},{"data":{"title":"License","order":14,"page":"docs","_entry":"posts/docs/nextepc/4-license.md","name":"4-license","category":"docs/nextepc","date":"2017-12-18T01:37:41.000Z","url":"/docs/nextepc/4-license"},"content":"\n\n## Copyright and License\n\n#\nCopyright © 2017, 2018 - Sukchan Lee, Jinyoung Park, and Jihoon Brandon Lee  \nAll rights reserved.  \n#\nThe source code of **NextEPC** is licensed under the terms of the GNU Affero General Public License v3.0 as published by the Free Software Foundation. See [http://www.gnu.org/licenses/](http://www.gnu.org/licenses/) or LICENSE included in the source code package itself. The information detailed here is provided AS IS with NO WARRANTY OF ANY KIND, INCLUDING THE WARRANTY OF DESIGN, MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE.\n\n## Linking with the followings\n\n- [APR(Apache Portable Runtime)](https://apr.apache.org/)\n    - License : [Apache 2.0](http://www.apache.org/licenses/LICENSE-2.0)\n    - [lib/core](https://github.com/acetcom/nextepc/tree/master/lib/core) based on this project.\n\n\n- [asn1c](http://lionet.info/asn1c/)\n    - License : [BSD](http://lionet.info/asn1c/asn1c-license.txt)\n    - Copyright (c) 2003-2017  Lev Walkin \u003cvlm@lionet.info\u003e and contributors.\n    - [lib/s1ap](https://github.com/acetcom/nextepc/tree/master/lib/s1ap) based on this project.\n    - [lib/s1ap/support/asn1tostruct.py](https://github.com/acetcom/nextepc/tree/master/lib/s1ap/support/asn1tostruct.py) referred from [OAI](http://www.openairinterface.org/)\n\n\n- [lksctp-tools](http://lksctp.sourceforge.net/)\n    - (C) Copyright 2007 Hewlett-Packard Development Company, L.P.\n    - (C) Copyright IBM Corp. 2001, 2003\n    - Copyright 2001 Motorola, Cisco, Intel, Nokia, La Monte Yarroll.\n    - Copyright 2002 Nokia, La Monte Yarroll, Intel. \n    - License : [LGPL version 2.1](https://www.gnu.org/licenses/old-licenses/lgpl-2.1.html)\n\n\n- [userland SCTP](https://github.com/sctplab/usrsctp)\n    - Copyright (c) 2015, Randall Stewart and Michael Tuexen\n    - License : [BSD](https://www.freebsd.org/copyright/freebsd-license.html)\n    - Only linked in Mac OS X executable.\n\n\n- [freeDiameter](http://www.freediameter.net/)\n    - License : [BSD-like](http://www.freediameter.net/trac/browser/freeDiameter/LICENSE)\n    - Copyright (c) 2008-2011, WIDE Project and NICT\n    - [lib/fd](https://github.com/acetcom/nextepc/tree/master/lib/fd) based on this project.\n\n\n- [GnuTLS](http://www.gnutls.org/);\n    - Copyright (C) 2005, 2006, 2007, 2008, 2009, 2010  Free Software Foundation, Inc.\n    - License : [LGPL version 2.1](https://www.gnu.org/licenses/old-licenses/lgpl-2.1.html)\n\n\n- [Libgcrypt](https://gnupg.org/software/libgcrypt/index.html)\n    - Copyright 2000, 2002, 2003, 2004, 2007, 2008, 2009, 2010 Free Software Foundation, Inc.\n    - License : [LGPL version 2.1](https://www.gnu.org/licenses/old-licenses/lgpl-2.1.html)\n\n\n- [GNU IDN Library](https://www.gnu.org/software/libidn/)\n    - Copyright (C) 2002-2015 Simon Josefsson\n    - License : [LGPL version 2.1](https://www.gnu.org/licenses/old-licenses/lgpl-2.1.html)\n\n\n- [OpenSSL](https://www.openssl.org/)\n    - Copyright (c) 1998-2017 The OpenSSL Project.\n    - License : [OpenSSL](https://www.openssl.org/source/license.html)\n\n\n- [MongoDB C Driver](http://mongoc.org/)\n    - Copyright 2016-2017 MongoDB, Inc.\n    - License : [Apache 2.0](http://www.apache.org/licenses/LICENSE-2.0)\n\n\n- [ipfw](https://www.freebsd.org/cgi/man.cgi?ipfw)\n    - License : [BSD](https://www.freebsd.org/copyright/freebsd-license.html)\n    - Copyright 1992-2017 The FreeBSD Project\n    - [lib/ipfw](https://github.com/acetcom/nextepc/tree/master/lib/ipfw) based on this project.\n\n\n- [libyaml](https://pyyaml.org/wiki/LibYAML)\n    - Copyright (c) 2006-2016 Kirill Simonov\n    - License : [MIT](https://opensource.org/licenses/mit-license.php)\n\n\n- [Milenage](http://web.mit.edu/freebsd/head/contrib/wpa/src/crypto/milenage.c)\n    - Copyright (c) 2006-2007 \u003cj@w1.fi\u003e\n    - License : [MIT](https://opensource.org/licenses/mit-license.php)\n\n\n- [CryptoMobile](https://github.com/mitshell/CryptoMobile)\n    - License : Unspecified\n\n\n## Web User Interface\n\n- See [package.json](https://github.com/acetcom/nextepc/tree/master/webui/package.json) file. \n"},{"data":{"title":"CentOS","order":21,"page":"docs","_entry":"posts/docs/build/1-centos.md","name":"1-centos","category":"docs/build","date":"2018-02-12T12:17:03.000Z","url":"/docs/build/1-centos"},"content":"\nThis guide is based on CentOS 7 Distribution.\n\n## Prerequisites\n\nCreate the MongoDB repository file.\n```bash\nsudo sh -c 'cat \u003c\u003c EOF \u003e /etc/yum.repos.d/mongodb-org-3.4.repo\n[mongodb-org-3.4]\nname=MongoDB Repository\nbaseurl=https://repo.mongodb.org/yum/redhat/\\$releasever/mongodb-org/3.4/x86_64/\ngpgcheck=1\nenabled=1\ngpgkey=https://www.mongodb.org/static/pgp/server-3.4.asc\nEOF'\n```\n\nInstall Mongo DB with Package Manager.\n```bash\nsudo yum -y install mongodb-org\nsudo systemctl start mongod (if '/usr/bin/mongod' is not running)\n```\n\nCraete the TUN device. Interface name will be `pgwtun`.\n```\nsudo yum -y install iproute\nsudo ip tuntap add name pgwtun mode tun\nip link show\n```\n\nThen, you need to check *IPv6 Kernel Configuration*. Although you can skip this process, we recommend that you set this up to support IPv6-enabled UE.\n\n```bash\nsysctl -n net.ipv6.conf.pgwtun.disable_ipv6\n\n(if the output is 0 and IPv6 is enabled, skip the followings)\nsudo sh -c \"echo 'net.ipv6.conf.pgwtun.disable_ipv6=0' \u003e /etc/sysctl.d/30-nextepc.conf\"\nsudo sysctl -p /etc/sysctl.d/30-nextepc.conf\n```\n\nYou are now ready to set the IP address on TUN device. If IPv6 is disabled for TUN device, please do not execute `sudo ip addr add cafe::1/64 dev pgwtun` from below.\n\n```bash\nsudo ip addr add 45.45.0.1/16 dev pgwtun\nsudo ip addr add cafe::1/64 dev pgwtun\n```\n\nCheck the TUN(pgwtun) device again.\n```bash\nsudo ip link set pgwtun up\nip link show\n```\n\n## MME, SGW, PGW, HSS, and PCRF\n\nInstall the depedencies for building the source\n```bash\nsudo yum -y install git flex bison autoconf libtool lksctp-tools-devel libidn-devel gnutls-devel libgcrypt-devel openssl-devel cyrus-sasl-devel libyaml-devel\n```\n\nConfigure Developer Toolset and install gcc/make\n```bash\nsudo yum -y install centos-release-scl\nsudo yum -y install devtoolset-7-gcc devtoolset-7-make\n```\n\nStart using software collections\n```bash\nscl enable devtoolset-7 bash\ngcc --version\n```\n\nConfigure EPEL package and install mongo-c-driver. \n```bash\nsudo yum -y install epel-release\nsudo yum -y install mongo-c-driver-devel\n```\n\nGit clone and compile\n```bash\nacetcom@nextepc:~$ git clone https://github.com/acetcom/nextepc\nccetcom@nextepc:~$ cd nextepc\nacetcom@nextepc:~/nextepc$ autoreconf -iv\nacetcom@nextepc:~/nextepc$ ./configure --prefix=`pwd`/install\nacetcom@nextepc:~/nextepc$ make -j `nproc`\nacetcom@nextepc:~/nextepc$ make install\n```\n\nWe provide a program that checks whether the installation is correct. After running the wireshark, select `loopback` interface, filter `s1ap || diameter || gtpv2 || gtp` and run `./test/testepc`. You can see the virtually created packets. [[testepc.pcapng]](http://nextepc.org/static/pcapng/testepc.pcapng)\n\n```bash\nacetcom@nextepc:~/nextepc$ ./test/testepc\n```\n\nIt is a convenient tool called `nextepc-epcd` for developers. This daemon includes both *MME*, *SGW*, *PGW*, *HSS*, and *PCRF*. So, instead of running all 5 daemons, you can just run `nextepc-epcd` in your development environment.\n\n```bash\nacetcom@nextepc:~/nextepc$ ./nextepc-epcd\nNextEPC daemon v0.3.3 - Feb 11 2018 07:19:59\n\n  PID[3720] : '/home/acetcom/nextepc/install/var/run/nextepc-epcd/pid'\n  File Logging : '/home/acetcom/nextepc/install/var/log/nextepc/nextepc.log'\n  MongoDB URI : 'mongodb://localhost/nextepc'\n  Configuration : '/home/acetcom/nextepc/install/etc/nextepc/nextepc.conf'\n[02/11 07:26:42.001] PCRF try to initialize\n...\n```\n\nWhen you run `nextepc-epcd`, all logs for MME, SGW, PGW, PCRF, and HSS are written to `nextepc.log`, and all settings are managed in one place for `nextepc.conf`. You can find the log/conf path at the beginning of running screen.\n\n#\nSometimes, you may want to use newly updated source code.\n```bash\n(Control-C kill nextepc-epcd)\nacetcom@nextepc:~/nextepc$ make maintainer-clean\nacetcom@nextepc:~/nextepc$ rm -rf ./install\nacetcom@nextepc:~/nextepc$ git pull\nacetcom@nextepc:~/nextepc$ autoreconf -iv\nacetcom@nextepc:~/nextepc$ ./configure --prefix=`pwd`/install\nacetcom@nextepc:~/nextepc$ make -j `nproc`\nacetcom@nextepc:~/nextepc$ make install\nacetcom@nextepc:~/nextepc$ ./nextepc-epcd\n```\n\n## Web User Interface\n\nInstall [Node.js](https://nodejs.org/) and [NPM](https://www.npmjs.com/) with a package manager.\n\n```bash\ncurl --silent --location https://rpm.nodesource.com/setup_8.x | sudo bash -\nsudo yum -y install nodejs\n```\n\nInstall the dependencies to run WebUI\n\n```bash\nacetcom@nextepc:~/nextepc$ cd webui\nacetcom@nextepc:~/nextepc/webui$ npm install\n```\n\nRunning WebUI\n\n```bash\nacetcom@nextepc:~/nextepc/webui$ npm run dev\n```\n\nNow the web server is running on _http://localhost:3000_.\n\n"},{"data":{"title":"Fedora","order":22,"page":"docs","_entry":"posts/docs/build/2-fedora.md","name":"2-fedora","category":"docs/build","date":"2018-02-13T04:53:23.000Z","url":"/docs/build/2-fedora"},"content":"\nThis guide is based on Fedora 27 Distribution.\n\n## Prerequisites\n\nInstall Mongo DB with Package Manager.\n```bash\nsudo dnf -y install mongodb-server\n```\n\nRun MongoDB server.\n```bash\nmkdir -p data/db\nmongod --dbpath data/db\n```\n\nTo run NextEPC with least privilege, TUN device permission should be a `crw-rw-rw-`(666). Otherwise, you need to run nextepc daemon with root privilege. If the permission is not `crw-rw-rw-`(666), you may need to install `udev` package.  Nevertheless, if the permssions do not change , you can run nextepc with root privileges or change the permission using `chmod 666 /dev/net/tun`.\n\n```bash\nls -al /dev/net/tun\ncrw-rw---- 1 root 28 10, 200 Feb 11 05:13 /dev/net/tun\nsudo dnf -y install udev\nsudo systemctl start systemd-udevd (if '/lib/systemd/systemd-udevd' is not running)\n```\n\nCraete the TUN device. Interface name will be `pgwtun`.\n```\nsudo dnf -y install iproute\nsudo ip tuntap add name pgwtun mode tun\nip link show\n```\n\nThen, you need to check *IPv6 Kernel Configuration*. Although you can skip this process, we recommend that you set this up to support IPv6-enabled UE.\n\n```bash\nsysctl -n net.ipv6.conf.pgwtun.disable_ipv6\n\n(if the output is 0 and IPv6 is enabled, skip the followings)\nsudo sh -c \"echo 'net.ipv6.conf.pgwtun.disable_ipv6=0' \u003e /etc/sysctl.d/30-nextepc.conf\"\nsudo sysctl -p /etc/sysctl.d/30-nextepc.conf\n```\n\nYou are now ready to set the IP address on TUN device. If IPv6 is disabled for TUN device, please do not execute `sudo ip addr add cafe::1/64 dev pgwtun` from below.\n\n```bash\nsudo ip addr add 45.45.0.1/16 dev pgwtun\nsudo ip addr add cafe::1/64 dev pgwtun\n```\n\nCheck the TUN(pgwtun) device again.\n```bash\nsudo ip link set pgwtun up\nip link show\n```\n\n## MME, SGW, PGW, HSS, and PCRF\n\nInstall the depedencies for building the source\n```bash\nsudo dnf -y install git gcc flex bison autoconf libtool mongo-c-driver-devel lksctp-tools-devel libidn-devel gnutls-devel libgcrypt-devel openssl-devel cyrus-sasl-devel snappy-devel libyaml-devel\n```\n\nGit clone and compile\n```bash\nacetcom@nextepc:~$ git clone https://github.com/acetcom/nextepc\nccetcom@nextepc:~$ cd nextepc\nacetcom@nextepc:~/nextepc$ autoreconf -iv\nacetcom@nextepc:~/nextepc$ ./configure --prefix=`pwd`/install\nacetcom@nextepc:~/nextepc$ make -j `nproc`\nacetcom@nextepc:~/nextepc$ make install\n```\n\nWe provide a program that checks whether the installation is correct. After running the wireshark, select `loopback` interface, filter `s1ap || diameter || gtpv2 || gtp` and run `./test/testepc`. You can see the virtually created packets. [[testepc.pcapng]](http://nextepc.org/static/pcapng/testepc.pcapng)\n\n```bash\nacetcom@nextepc:~/nextepc$ ./test/testepc\n```\n\nIt is a convenient tool called `nextepc-epcd` for developers. This daemon includes both *MME*, *SGW*, *PGW*, *HSS*, and *PCRF*. So, instead of running all 5 daemons, you can just run `nextepc-epcd` in your development environment.\n\n```bash\nacetcom@nextepc:~/nextepc$ ./nextepc-epcd\nNextEPC daemon v0.3.3 - Feb 11 2018 07:19:59\n\n  PID[3720] : '/home/acetcom/nextepc/install/var/run/nextepc-epcd/pid'\n  File Logging : '/home/acetcom/nextepc/install/var/log/nextepc/nextepc.log'\n  MongoDB URI : 'mongodb://localhost/nextepc'\n  Configuration : '/home/acetcom/nextepc/install/etc/nextepc/nextepc.conf'\n[02/11 07:26:42.001] PCRF try to initialize\n...\n```\n\nWhen you run `nextepc-epcd`, all logs for MME, SGW, PGW, PCRF, and HSS are written to `nextepc.log`, and all settings are managed in one place for `nextepc.conf`. You can find the log/conf path at the beginning of running screen.\n\n#\nSometimes, you may want to use newly updated source code.\n```bash\n(Control-C kill nextepc-epcd)\nacetcom@nextepc:~/nextepc$ make maintainer-clean\nacetcom@nextepc:~/nextepc$ rm -rf ./install\nacetcom@nextepc:~/nextepc$ git pull\nacetcom@nextepc:~/nextepc$ autoreconf -iv\nacetcom@nextepc:~/nextepc$ ./configure --prefix=`pwd`/install\nacetcom@nextepc:~/nextepc$ make -j `nproc`\nacetcom@nextepc:~/nextepc$ make install\nacetcom@nextepc:~/nextepc$ ./nextepc-epcd\n```\n\n## Web User Interface\n\nInstall [Node.js](https://nodejs.org/) and [NPM](https://www.npmjs.com/) with a package manager.\n\n```bash\nsudo dnf -y install nodejs\n```\n\nInstall the dependencies to run WebUI\n\n```bash\nacetcom@nextepc:~/nextepc$ cd webui\nacetcom@nextepc:~/nextepc/webui$ npm install\n```\n\nRunning WebUI\n\n```bash\nacetcom@nextepc:~/nextepc/webui$ npm run dev\n```\n\nNow the web server is running on _http://localhost:3000_.\n"},{"data":{"title":"FreeBSD","order":23,"page":"docs","_entry":"posts/docs/build/3-freebsd.md","name":"3-freebsd","category":"docs/build","date":"2018-02-11T14:25:01.000Z","url":"/docs/build/3-freebsd"},"content":"\nThis guide is based on FreeBSD Relase 11.1\n\n## Prerequisites\n\nInstall Mongo DB with Package Manager.\n```bash\nsudo pkg install mongodb\n```\n\nRun MongoDB server.\n```bash\nmkdir -p data/db\nmongod --dbpath data/db\n```\n\nSetup your network.\n```bash\nsudo ifconfig lo0 alias 127.0.0.2 netmask 255.255.255.255\nsudo ifconfig lo0 alias 127.0.0.3 netmask 255.255.255.255\nsudo ifconfig lo0 alias 127.0.0.4 netmask 255.255.255.255\nsudo ifconfig lo0 alias 127.0.0.5 netmask 255.255.255.255\n```\n\nEnable IP forwarding\n```bash\nsudo sysctl -w net.inet.ip.forwarding=1\n```\n\n## MME, SGW, PGW, HSS, and PCRF\n\nInstall the depedencies for building the source\n```bash\nsudo pkg install git gcc bison gsed pkgconf autoconf automake libtool mongo-c-driver gnutls libgcrypt libidn libyaml\n```\n\nGit clone and compile\n```bash\nacetcom@nextepc:~$ git clone https://github.com/acetcom/nextepc\nccetcom@nextepc:~$ cd nextepc\nacetcom@nextepc:~/nextepc$ autoreconf -iv\nacetcom@nextepc:~/nextepc$ ./configure --prefix=`pwd`/install\nacetcom@nextepc:~/nextepc$ make -j `nproc`\nacetcom@nextepc:~/nextepc$ make install\n```\n\nWe provide a program that checks whether the installation is correct. After running the wireshark, select `loopback` interface, filter `s1ap || diameter || gtpv2 || gtp` and run `./test/testepc`. You can see the virtually created packets. [[testepc.pcapng]](http://nextepc.org/static/pcapng/testepc.pcapng)\n\n#\nNote that this should require *sudo* due to access `/dev/tun0`.\n```bash\nacetcom@nextepc:~/nextepc$ sudo ./test/testepc\n```\n\nIt is a convenient tool called `nextepc-epcd` for developers. This daemon includes both *MME*, *SGW*, *PGW*, *HSS*, and *PCRF*. So, instead of running all 5 daemons, you can just run `nextepc-epcd` in your development environment.\n\n```bash\nacetcom@nextepc:~/nextepc$ sudo ./nextepc-epcd\nNextEPC daemon v0.3.3 - Feb 11 2018 07:19:59\n\n  PID[3720] : '/home/acetcom/nextepc/install/var/run/nextepc-epcd/pid'\n  File Logging : '/home/acetcom/nextepc/install/var/log/nextepc/nextepc.log'\n  MongoDB URI : 'mongodb://localhost/nextepc'\n  Configuration : '/home/acetcom/nextepc/install/etc/nextepc/nextepc.conf'\n[02/11 07:26:42.001] PCRF try to initialize\n...\n```\n\nWhen you run `nextepc-epcd`, all logs for MME, SGW, PGW, PCRF, and HSS are written to `nextepc.log`, and all settings are managed in one place for `nextepc.conf`. You can find the log/conf path at the beginning of running screen.\n\n#\nSometimes, you may want to use newly updated source code.\n```bash\n(Control-C kill nextepc-epcd)\nacetcom@nextepc:~/nextepc$ make maintainer-clean\nacetcom@nextepc:~/nextepc$ rm -rf ./install\nacetcom@nextepc:~/nextepc$ git pull\nacetcom@nextepc:~/nextepc$ autoreconf -iv\nacetcom@nextepc:~/nextepc$ ./configure --prefix=`pwd`/install\nacetcom@nextepc:~/nextepc$ make -j `nproc`\nacetcom@nextepc:~/nextepc$ make install\nacetcom@nextepc:~/nextepc$ sudo ./nextepc-epcd\n```\n\n## Web User Interface\n\nInstall [Node.js](https://nodejs.org/) and [NPM](https://www.npmjs.com/) with a package manager.\n\n```bash\nsudo pkg install node\n```\n\nInstall the dependencies to run WebUI\n\n```bash\nacetcom@nextepc:~/nextepc$ cd webui\nacetcom@nextepc:~/nextepc/webui$ npm install\n```\n\nRunning WebUI\n\n```bash\nacetcom@nextepc:~/nextepc/webui$ npm run dev\n```\n\nNow the web server is running on _http://localhost:3000_.\n"},{"data":{"title":"Mac OS X","order":24,"page":"docs","_entry":"posts/docs/build/4-macosx.md","name":"4-macosx","category":"docs/build","date":"2018-02-11T14:25:38.000Z","url":"/docs/build/4-macosx"},"content":"\nThis guide is based on OS X El Capitan 10.11.6\n\n## Prerequisites\n\nInstall Mongo DB with Package Manager.\n```bash\nsudo brew install mongodb\n```\n\nRun MongoDB server.\n```bash\nmkdir -p data/db\nmongod --dbpath data/db\n```\n\nInstall TUN/TAP driver\n- You can download it from [http://tuntaposx.sourceforge.net/](http://tuntaposx.sourceforge.net/)\n\nSetup your network.\n```bash\nsudo ifconfig lo0 alias 127.0.0.2 netmask 255.255.255.255\nsudo ifconfig lo0 alias 127.0.0.3 netmask 255.255.255.255\nsudo ifconfig lo0 alias 127.0.0.4 netmask 255.255.255.255\nsudo ifconfig lo0 alias 127.0.0.5 netmask 255.255.255.255\n```\n\nEnable IP forwarding.\n```bash\nsudo sysctl -w net.inet.ip.forwarding=1\n```\n\n## MME, SGW, PGW, HSS, and PCRF\n\nInstall the depedencies for building the source\n```bash\nsudo brew install mongo-c-driver libusrsctp gnutls libgcrypt libidn libyaml\n```\n\nGit clone and compile\n```bash\nacetcom@nextepc:~$ git clone https://github.com/acetcom/nextepc\nccetcom@nextepc:~$ cd nextepc\nacetcom@nextepc:~/nextepc$ autoreconf -iv\nacetcom@nextepc:~/nextepc$ ./configure --prefix=`pwd`/install\nacetcom@nextepc:~/nextepc$ make -j `nproc`\nacetcom@nextepc:~/nextepc$ make install\n```\n\nWe provide a program that checks whether the installation is correct. After running the wireshark, select `loopback` interface, filter `s1ap || diameter || gtpv2 || gtp` and run `./test/testepc`. You can see the virtually created packets. [[testepc.pcapng]](http://nextepc.org/static/pcapng/testepc.pcapng)\n\n#\nNote that this should require *sudo* due to access `/dev/tun0`.\n```bash\nacetcom@nextepc:~/nextepc$ sudo ./test/testepc\n```\n\nIt is a convenient tool called `nextepc-epcd` for developers. This daemon includes both *MME*, *SGW*, *PGW*, *HSS*, and *PCRF*. So, instead of running all 5 daemons, you can just run `nextepc-epcd` in your development environment.\n\n```bash\nacetcom@nextepc:~/nextepc$ sudo ./nextepc-epcd\nNextEPC daemon v0.3.3 - Feb 11 2018 07:19:59\n\n  PID[3720] : '/home/acetcom/nextepc/install/var/run/nextepc-epcd/pid'\n  File Logging : '/home/acetcom/nextepc/install/var/log/nextepc/nextepc.log'\n  MongoDB URI : 'mongodb://localhost/nextepc'\n  Configuration : '/home/acetcom/nextepc/install/etc/nextepc/nextepc.conf'\n[02/11 07:26:42.001] PCRF try to initialize\n...\n```\n\nWhen you run `nextepc-epcd`, all logs for MME, SGW, PGW, PCRF, and HSS are written to `nextepc.log`, and all settings are managed in one place for `nextepc.conf`. You can find the log/conf path at the beginning of running screen.\n\n#\nSometimes, you may want to use newly updated source code.\n```bash\n(Control-C kill nextepc-epcd)\nacetcom@nextepc:~/nextepc$ make maintainer-clean\nacetcom@nextepc:~/nextepc$ rm -rf ./install\nacetcom@nextepc:~/nextepc$ git pull\nacetcom@nextepc:~/nextepc$ autoreconf -iv\nacetcom@nextepc:~/nextepc$ ./configure --prefix=`pwd`/install\nacetcom@nextepc:~/nextepc$ make -j `nproc`\nacetcom@nextepc:~/nextepc$ make install\nacetcom@nextepc:~/nextepc$ sudo ./nextepc-epcd\n```\n\n## Web User Interface\n\nInstall [Node.js](https://nodejs.org/) and [NPM](https://www.npmjs.com/) with a package manager.\n\n```bash\nsudo brew install node\n```\n\nInstall the dependencies to run WebUI\n\n```bash\nacetcom@nextepc:~/nextepc$ cd webui\nacetcom@nextepc:~/nextepc/webui$ npm install\n```\n\nRunning WebUI\n\n```bash\nacetcom@nextepc:~/nextepc/webui$ npm run dev\n```\n\nNow the web server is running on _http://localhost:3000_.\n"},{"data":{"title":"Ubuntu (Trusty)","order":25,"page":"docs","_entry":"posts/docs/build/5-ubuntu.md","name":"5-ubuntu","category":"docs/build","date":"2018-02-13T04:52:39.000Z","url":"/docs/build/5-ubuntu"},"content":"\nThis guide is based on Ubuntu 14.04 (Trusty)\n\n## Prerequisites\n\nInstall Mongo DB with Package Manager.\n```bash\nsudo apt-get -y install mongodb\nsudo systemctl start mongodb (if '/usr/bin/mongod' is not running)\n```\n\nTo run NextEPC with least privilege, TUN device permission should be a `crw-rw-rw-`(666). Otherwise, you need to run nextepc daemon with root privilege. If the permission is not `crw-rw-rw-`(666), you may need to install `udev` package.  Nevertheless, if the permssions do not change , you can run nextepc with root privileges or change the permission using `chmod 666 /dev/net/tun`.\n\n```bash\nls -al /dev/net/tun\ncrw-rw---- 1 root 28 10, 200 Feb 11 05:13 /dev/net/tun\nsudo apt-get install udev\nsudo systemctl start systemd-udevd (if '/lib/systemd/systemd-udevd' is not running)\n```\n\nWrite the configuration file for the TUN deivce.\n```bash\nsudo sh -c \"cat \u003c\u003c EOF \u003e /etc/systemd/network/99-nextepc.netdev\n[NetDev]\nName=pgwtun\nKind=tun\nEOF\"\n```\n\nCraete the TUN device. Interface name will be `pgwtun`.\n```\nsudo systemctl enable systemd-networkd\nsudo systemctl restart systemd-networkd\n\nsudo apt-get -y install net-tools\nifconfig pgwtun\n```\n\nThen, you need to check *IPv6 Kernel Configuration*. Although you can skip this process, we recommend that you set this up to support IPv6-enabled UE.\n\n```bash\nsysctl -n net.ipv6.conf.pgwtun.disable_ipv6\n\n(if the output is 0 and IPv6 is enabled, skip the followings)\nsudo sh -c \"echo 'net.ipv6.conf.pgwtun.disable_ipv6=0' \u003e /etc/sysctl.d/30-nextepc.conf\"\nsudo sysctl -p /etc/sysctl.d/30-nextepc.conf\n```\n\nYou are now ready to set the IP address on TUN device. If IPv6 is disabled for TUN device, please remove `Address=cafe::1/64` from below.\n\n```bash\nsudo sh -c \"cat \u003c\u003c EOF \u003e /etc/systemd/network/99-nextepc.network\n[Match]\nName=pgwtun\n[Network]\nAddress=45.45.0.1/16\nAddress=cafe::1/64\nEOF\"\n```\n\nCheck the TUN(pgwtun) device again.\n```\nsudo systemctl restart systemd-networkd\nifconfig pgwtun\n```\n\n## MME, SGW, PGW, HSS, and PCRF\n\nInstall the depedencies for building the source\n```bash\nsudo apt-get -y install git gcc flex bison make autoconf libtool pkg-config libsctp-dev libssl-dev libgnutls-dev libidn11-dev libyaml-dev\n```\n\nAnd then, compile and install Mongo C Driver like the followings.\n```bash\nsudo apt-get -y install g++ libsasl2-dev\ntar xzf mongo-c-driver-1.8.0.tar.gz\ncd mongo-c-driver-1.8.0\n./configure --disable-automatic-init-and-cleanup\nmake\nsudo make install\nsudo ldconfig\n```\n\nGit clone and compile\n```bash\nacetcom@nextepc:~$ git clone https://github.com/acetcom/nextepc\nccetcom@nextepc:~$ cd nextepc\nacetcom@nextepc:~/nextepc$ autoreconf -iv\nacetcom@nextepc:~/nextepc$ ./configure --prefix=`pwd`/install\nacetcom@nextepc:~/nextepc$ make -j `nproc`\nacetcom@nextepc:~/nextepc$ make install\n```\n\nWe provide a program that checks whether the installation is correct. After running the wireshark, select `loopback` interface, filter `s1ap || diameter || gtpv2 || gtp` and run `./test/testepc`. You can see the virtually created packets. [[testepc.pcapng]](http://nextepc.org/static/pcapng/testepc.pcapng)\n\nNote that you should stop all nextepc daemons before running test program if you have already installed it with a package manage.\n```bash\n(if nextepc-daemons are running)\nsudo systemctl stop nextepc-mmed\nsudo systemctl stop nextepc-sgwd\nsudo systemctl stop nextepc-pgwd\nsudo systemctl stop nextepc-hssd\nsudo systemctl stop nextepc-pcrfd\n\nacetcom@nextepc:~/nextepc$ ./test/testepc\n```\n\nIt is a convenient tool called `nextepc-epcd` for developers. This daemon includes both *MME*, *SGW*, *PGW*, *HSS*, and *PCRF*. So, instead of running all 5 daemons, you can just run `nextepc-epcd` in your development environment.\n\n```bash\nacetcom@nextepc:~/nextepc$ ./nextepc-epcd\nNextEPC daemon v0.3.3 - Feb 11 2018 07:19:59\n\n  PID[3720] : '/home/acetcom/nextepc/install/var/run/nextepc-epcd/pid'\n  File Logging : '/home/acetcom/nextepc/install/var/log/nextepc/nextepc.log'\n  MongoDB URI : 'mongodb://localhost/nextepc'\n  Configuration : '/home/acetcom/nextepc/install/etc/nextepc/nextepc.conf'\n[02/11 07:26:42.001] PCRF try to initialize\n...\n```\n\nWhen you run `nextepc-epcd`, all logs for MME, SGW, PGW, PCRF, and HSS are written to `nextepc.log`, and all settings are managed in one place for `nextepc.conf`. You can find the log/conf path at the beginning of running screen.\n\nSometimes, you may want to use newly updated source code.\n```bash\n(Control-C kill nextepc-epcd)\nacetcom@nextepc:~/nextepc$ make maintainer-clean\nacetcom@nextepc:~/nextepc$ rm -rf ./install\nacetcom@nextepc:~/nextepc$ git pull\nacetcom@nextepc:~/nextepc$ autoreconf -iv\nacetcom@nextepc:~/nextepc$ ./configure --prefix=`pwd`/install\nacetcom@nextepc:~/nextepc$ make -j `nproc`\nacetcom@nextepc:~/nextepc$ make install\nacetcom@nextepc:~/nextepc$ ./nextepc-epcd\n```\n\n## Web User Interface\n\nTo get the latest [Node.js](https://nodejs.org/) and [NPM](https://www.npmjs.com/), please visit the official Node.js website:\n[https://nodesjs.org/en/download/](https://nodesjs.org/en/download/).\n\nOr, you can install [Node.js](https://nodejs.org/) and [NPM](https://www.npmjs.com/) with a package manager.\n\n```bash\nsudo apt-get -y install curl\ncurl -sL https://deb.nodesource.com/setup_8.x | sudo -E bash -\nsudo apt-get -y install nodejs\n```\n\nInstall the dependencies to run WebUI\n\n```bash\nacetcom@nextepc:~/nextepc$ cd webui\nacetcom@nextepc:~/nextepc/webui$ npm install\n```\n\nRunning WebUI\n\n```bash\nacetcom@nextepc:~/nextepc/webui$ npm run dev\n```\n\nNow the web server is running on _http://localhost:3000_.\n\n"}],"post":{"data":{"title":"Fedora","order":22,"page":"docs","_entry":"posts/docs/build/2-fedora.md","name":"2-fedora","category":"docs/build","date":"2018-02-13T04:53:23.000Z","url":"/docs/build/2-fedora"},"content":"\nThis guide is based on Fedora 27 Distribution.\n\n## Prerequisites\n\nInstall Mongo DB with Package Manager.\n```bash\nsudo dnf -y install mongodb-server\n```\n\nRun MongoDB server.\n```bash\nmkdir -p data/db\nmongod --dbpath data/db\n```\n\nTo run NextEPC with least privilege, TUN device permission should be a `crw-rw-rw-`(666). Otherwise, you need to run nextepc daemon with root privilege. If the permission is not `crw-rw-rw-`(666), you may need to install `udev` package.  Nevertheless, if the permssions do not change , you can run nextepc with root privileges or change the permission using `chmod 666 /dev/net/tun`.\n\n```bash\nls -al /dev/net/tun\ncrw-rw---- 1 root 28 10, 200 Feb 11 05:13 /dev/net/tun\nsudo dnf -y install udev\nsudo systemctl start systemd-udevd (if '/lib/systemd/systemd-udevd' is not running)\n```\n\nCraete the TUN device. Interface name will be `pgwtun`.\n```\nsudo dnf -y install iproute\nsudo ip tuntap add name pgwtun mode tun\nip link show\n```\n\nThen, you need to check *IPv6 Kernel Configuration*. Although you can skip this process, we recommend that you set this up to support IPv6-enabled UE.\n\n```bash\nsysctl -n net.ipv6.conf.pgwtun.disable_ipv6\n\n(if the output is 0 and IPv6 is enabled, skip the followings)\nsudo sh -c \"echo 'net.ipv6.conf.pgwtun.disable_ipv6=0' \u003e /etc/sysctl.d/30-nextepc.conf\"\nsudo sysctl -p /etc/sysctl.d/30-nextepc.conf\n```\n\nYou are now ready to set the IP address on TUN device. If IPv6 is disabled for TUN device, please do not execute `sudo ip addr add cafe::1/64 dev pgwtun` from below.\n\n```bash\nsudo ip addr add 45.45.0.1/16 dev pgwtun\nsudo ip addr add cafe::1/64 dev pgwtun\n```\n\nCheck the TUN(pgwtun) device again.\n```bash\nsudo ip link set pgwtun up\nip link show\n```\n\n## MME, SGW, PGW, HSS, and PCRF\n\nInstall the depedencies for building the source\n```bash\nsudo dnf -y install git gcc flex bison autoconf libtool mongo-c-driver-devel lksctp-tools-devel libidn-devel gnutls-devel libgcrypt-devel openssl-devel cyrus-sasl-devel snappy-devel libyaml-devel\n```\n\nGit clone and compile\n```bash\nacetcom@nextepc:~$ git clone https://github.com/acetcom/nextepc\nccetcom@nextepc:~$ cd nextepc\nacetcom@nextepc:~/nextepc$ autoreconf -iv\nacetcom@nextepc:~/nextepc$ ./configure --prefix=`pwd`/install\nacetcom@nextepc:~/nextepc$ make -j `nproc`\nacetcom@nextepc:~/nextepc$ make install\n```\n\nWe provide a program that checks whether the installation is correct. After running the wireshark, select `loopback` interface, filter `s1ap || diameter || gtpv2 || gtp` and run `./test/testepc`. You can see the virtually created packets. [[testepc.pcapng]](http://nextepc.org/static/pcapng/testepc.pcapng)\n\n```bash\nacetcom@nextepc:~/nextepc$ ./test/testepc\n```\n\nIt is a convenient tool called `nextepc-epcd` for developers. This daemon includes both *MME*, *SGW*, *PGW*, *HSS*, and *PCRF*. So, instead of running all 5 daemons, you can just run `nextepc-epcd` in your development environment.\n\n```bash\nacetcom@nextepc:~/nextepc$ ./nextepc-epcd\nNextEPC daemon v0.3.3 - Feb 11 2018 07:19:59\n\n  PID[3720] : '/home/acetcom/nextepc/install/var/run/nextepc-epcd/pid'\n  File Logging : '/home/acetcom/nextepc/install/var/log/nextepc/nextepc.log'\n  MongoDB URI : 'mongodb://localhost/nextepc'\n  Configuration : '/home/acetcom/nextepc/install/etc/nextepc/nextepc.conf'\n[02/11 07:26:42.001] PCRF try to initialize\n...\n```\n\nWhen you run `nextepc-epcd`, all logs for MME, SGW, PGW, PCRF, and HSS are written to `nextepc.log`, and all settings are managed in one place for `nextepc.conf`. You can find the log/conf path at the beginning of running screen.\n\n#\nSometimes, you may want to use newly updated source code.\n```bash\n(Control-C kill nextepc-epcd)\nacetcom@nextepc:~/nextepc$ make maintainer-clean\nacetcom@nextepc:~/nextepc$ rm -rf ./install\nacetcom@nextepc:~/nextepc$ git pull\nacetcom@nextepc:~/nextepc$ autoreconf -iv\nacetcom@nextepc:~/nextepc$ ./configure --prefix=`pwd`/install\nacetcom@nextepc:~/nextepc$ make -j `nproc`\nacetcom@nextepc:~/nextepc$ make install\nacetcom@nextepc:~/nextepc$ ./nextepc-epcd\n```\n\n## Web User Interface\n\nInstall [Node.js](https://nodejs.org/) and [NPM](https://www.npmjs.com/) with a package manager.\n\n```bash\nsudo dnf -y install nodejs\n```\n\nInstall the dependencies to run WebUI\n\n```bash\nacetcom@nextepc:~/nextepc$ cd webui\nacetcom@nextepc:~/nextepc/webui$ npm install\n```\n\nRunning WebUI\n\n```bash\nacetcom@nextepc:~/nextepc/webui$ npm run dev\n```\n\nNow the web server is running on _http://localhost:3000_.\n"}},"pathname":"/docs","query":{"_entry":"posts/docs/build/2-fedora.md"},"buildId":"02bf46eb-e092-44c3-8989-8edca614395d","buildStats":{"app.js":{"hash":"252668b51844c7fbec8c12ba9dfc6833"}},"assetPrefix":"","nextExport":true,"err":null,"ids":["hb19ea","1a7qg5","nu6evi","1774q3n","8gkpgi","17a3lhg","rr8qii","1kehcpu","10ndyw7","12vtgqa","pet3mp","nudg5n","11sj1a","4dv31v","15qkoxo","4kr8dk","13a9kig","1yl0npl","161rhh0","1f7yxra","1hivv32","1ypnnmu","1vfmixc"],"chunks":[]}
          module={}
          __NEXT_LOADED_PAGES__ = []
          __NEXT_LOADED_CHUNKS__ = []

          __NEXT_REGISTER_PAGE = function (route, fn) {
            __NEXT_LOADED_PAGES__.push({ route: route, fn: fn })
          }

          __NEXT_REGISTER_CHUNK = function (chunkName, fn) {
            __NEXT_LOADED_CHUNKS__.push({ chunkName: chunkName, fn: fn })
          }
        </script><script async="" id="__NEXT_PAGE__/docs" type="text/javascript" src="/_next/02bf46eb-e092-44c3-8989-8edca614395d/page/docs/index.js"></script><script async="" id="__NEXT_PAGE__/_error" type="text/javascript" src="/_next/02bf46eb-e092-44c3-8989-8edca614395d/page/_error/index.js"></script><div></div><script type="text/javascript" src="/_next/252668b51844c7fbec8c12ba9dfc6833/app.js" async=""></script></div></body></html>